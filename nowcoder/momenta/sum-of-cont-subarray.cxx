/* Momenta2019秋招技术岗笔试题
企业提供原题
00:07:51
32/37
[编程题]连续子区间和

时间限制：1秒
空间限制：131072K

小M给你一串含有c个正整数的数组, 想让你帮忙求出有多少个下标的连续区间, 它们的和大于等于x。

输入描述:
第一行两个整数c x（0 < c <= 1,000,000, 0 <= x <= 100,000,000)
第二行有c个正整数（每个正整数小于等于100)。

输出描述:
输出一个整数，表示所求的个数。

输入例子1:
3 6
2 4 7

输出例子1:
4

例子说明1:
对于有3个整数构成的数组而言，总共有6个下标连续的区间，他们的和分别为：
2 = 2
4 = 4
7 = 7
2 + 4 = 6
4 + 7 = 11
2 + 4 + 7 = 13

其中有4个和大于等于6，所以答案等于4。
*/

#include <bits/stdc++.h>

using namespace std;

class SolutionDP2
{
public:
	int sumOfContSubArrayCount(vector<int> &vec, int x)
	{
		int prevCnt = 0;
		int cnt = 0;
		for (size_t i=0; i<vec.size(); i++) {
			int sum = 0;
			cnt = 0;
			for (int j = i; j>=0; j--) {
				sum += vec[j];
				if (sum >= x) {
					cnt += j + 1;
					break;
				}
			}
			cnt += prevCnt;
			prevCnt = cnt;
		}
		return cnt;
	}
};

class SolutionTune2
{
public:
	int sumOfContSubArrayCount(vector<int> &vec, int xorig)
	{
		int x = xorig;
		if (x == 0) {
			x = 1; 
		}
		int prevCnt = 0;
		int cnt = 0;
		size_t prevJ = 0;
		int prevSum = 0;
		for (size_t i=0; i<vec.size(); i++) {
			prevSum += vec[i];
			for (; prevJ<i; prevJ++) {
				if (prevSum - vec[prevJ] < x)
					break;
				prevSum -= vec[prevJ];
			}
			cnt = prevJ;
			if (prevSum >= x)
				++cnt;
			cnt += prevCnt;
			prevCnt = cnt;
		}
		if (xorig == 0)
			++cnt;
		return cnt;
	}
};

int main()
{
	int c;
	int x;
	while (cin >> c >> x) {
		vector<int> vec(c);
		for (int i=0; i<c; i++)
			cin >> vec[i];
		//SolutionDP2 sln;
		SolutionTune2 sln;
		auto ret = sln.sumOfContSubArrayCount(vec, x);
		cout << ret << endl;
	}
}

#if 0
3 6
2 4 7

9 10
1 2 3 4 5 6 7 8 9 10

/* case 45%
   this case is truncated by nowcoder, only first 7KB data displayed. */
用例:
1000000 12267775
51 9 23 62 95 34 34 85 33 96 1 22 37 96 20 82 94 72 94 5 95 24 26 83 44 35 14 24 78 30 30 44 78 80 69 41 5 95 12 88 76 83 62 72 57 34 61 16 14 41 23 83 27 10 11 54 91 84 19 34 58 72 78 81 58 70 15 65 79 94 15 4 89 69 69 44 32 53 83 87 14 85 82 65 74 13 56 1 97 55 35 80 16 19 18 84 46 30 92 88 15 36 3 18 42 73 96 20 32 94 12 92 44 15 72 28 71 87 49 21 58 90 27 79 87 10 55 84 84 52 28 47 95 86 89 31 59 86 32 18 89 14 67 15 74 21 51 90 56 39 18 53 5 99 57 59 52 8 79 43 77 14 34 48 21 86 58 96 28 1 37 29 35 28 57 64 26 42 65 20 59 18 85 9 90 50 87 34 61 49 17 9 79 16 92 59 34 31 96 93 46 36 86 11 5 74 27 64 44 79 76 74 92 14 83 81 5 66 28 54 57 89 79 39 24 46 3 28 8 71 87 69 35 99 82 82 94 15 76 81 97 49 69 18 94 42 35 91 47 52 42 89 19 42 31 9 28 69 30 53 73 44 66 95 91 65 68 49 72 38 94 83 85 77 77 31 16 74 85 77 17 71 16 10 5 91 29 73 42 25 63 89 77 62 61 8 42 63 41 30 5 62 73 92 12 72 63 36 91 53 9 99 80 22 11 69 17 82 69 28 67 48 20 50 43 40 41 67 63 90 97 97 21 71 73 69 28 33 76 51 10 96 91 22 46 71 7 59 75 17 2 11 82 50 83 81 80 49 45 4 56 88 46 51 92 30 56 85 98 3 99 30 52 79 77 96 20 67 14 30 82 93 69 29 1 53 32 60 48 11 2 82 32 80 30 81 75 5 94 7 33 98 8 37 65 84 31 80 8 76 23 29 37 7 26 25 84 59 49 7 89 30 69 96 14 15 73 42 55 35 14 52 54 25 52 26 57 85 33 89 94 74 10 38 56 87 48 30 42 20 34 32 44 40 82 7 76 74 93 94 34 35 7 35 64 98 17 77 25 75 97 77 91 31 80 63 86 32 72 96 80 32 22 88 40 24 2 4 66 24 38 97 14 76 55 49 34 63 38 48 32 49 29 28 51 94 39 46 6 88 77 75 59 19 80 71 41 30 62 21 10 86 76 86 95 6 99 75 58 81 56 7 76 97 11 14 6 71 15 64 13 28 24 94 35 82 12 83 46 52 51 32 90 19 14 53 11 11 92 84 48 73 44 16 53 92 75 36 8 66 84 27 75 39 65 70 30 34 84 60 11 74 97 81 98 82 18 89 70 98 63 78 96 31 96 78 40 74 41 41 83 30 13 34 88 37 72 9 53 90 81 55 55 46 84 93 94 5 6 44 84 14 96 80 40 19 79 56 19 44 87 23 18 45 9 97 58 42 9 62 55 50 41 53 59 64 96 83 70 61 72 45 2 73 59 48 81 81 78 96 42 49 41 78 32 38 56 68 99 57 64 11 90 86 68 13 37 95 33 96 75 99 86 65 36 88 68 12 38 94 74 56 65 35 22 19 41 55 37 92 66 87 80 28 47 44 20 26 31 1 8 13 96 43 61 4 13 97 72 81 90 61 16 3 7 51 51 58 78 94 77 67 19 12 56 60 19 37 89 22 73 36 68 3 27 94 3 61 68 61 50 70 53 45 21 83 34 44 70 80 56 40 8 23 68 55 56 37 74 79 29 12 53 37 5 92 20 25 51 90 96 70 94 87 74 72 63 37 39 60 63 66 78 75 31 15 99 50 48 71 59 69 26 99 19 79 92 78 91 86 62 36 59 69 77 8 69 96 62 35 87 93 10 42 94 4 43 46 52 46 51 81 98 73 98 46 19 83 49 38 94 48 30 3 41 23 14 88 79 5 93 91 22 94 40 10 93 69 6 99 52 33 55 38 94 40 27 76 22 67 26 86 71 37 38 34 47 49 31 52 85 56 50 8 64 87 4 92 14 6 12 49 11 42 36 99 30 93 30 96 50 95 50 2 44 46 6 72 83 77 29 75 30 12 17 6 47 21 75 4 16 2 76 95 18 66 24 44 17 77 52 75 95 99 29 67 93 28 60 51 4 20 86 29 71 27 50 68 88 72 31 24 17 57 96 23 28 55 77 28 5 80 91 43 32 53 97 91 11 92 51 95 86 26 36 41 92 98 53 9 45 84 35 84 84 3 72 16 29 62 17 20 62 27 1 90 41 10 17 42 96 87 17 3 2 1 96 46 81 31 39 85 45 68 76 16 58 56 3 6 10 58 48 37 75 97 41 95 77 42 12 75 62 41 85 49 86 29 16 69 24 9 46 30 62 6 80 48 17 8 1 98 27 82 22 85 34 54 16 80 62 7 75 13 86 17 26 95 34 96 57 80 86 11 96 53 3 49 32 10 82 62 21 1 97 62 26 40 54 78 45 26 86 62 32 72 86 68 88 52 23 3 63 5 95 53 46 24 49 2 81 10 87 56 20 14 74 19 16 11 82 69 85 7 89 94 37 10 8 21 84 76 39 77 41 32 77 82 61 82 89 25 37 60 17 10 34 22 59 60 18 22 25 60 80 73 94 74 32 33 67 47 60 89 85 3 97 36 28 69 25 18 71 68 75 34 41 36 72 44 60 33 42 2 2 86 52 21 75 82 68 69 7 58 30 79 35 46 68 82 50 17 70 20 32 81 33 66 67 67 84 80 84 64 5 98 76 5 28 83 50 62 80 93 98 17 76 40 86 98 47 12 35 92 34 60 41 59 13 81 15 1 34 1 77 84 73 11 66 63 30 70 79 58 39 91 23 14 56 65 45 7 48 43 20 68 60 49 81 69 47 1 79 79 11 64 72 28 52 14 6 76 55 41 45 86 79 68 7 24 7 55 71 49 18 93 59 19 16 61 6 82 40 94 80 86 4 66 27 28 34 56 3 81 49 4 33 96 72 54 28 7 10 63 68 73 80 87 30 20 20 93 13 62 66 79 84 87 54 91 25 20 44 92 58 41 26 45 11 34 80 14 70 65 51 17 4 14 90 88 41 2 90 55 13 59 49 58 81 66 31 37 83 84 54 55 10 7 10 26 9 29 84 43 7 71 59 49 14 95 42 82 45 3 38 56 38 73 60 8 78 28 54 60 96 84 69 23 39 20 8 98 79 3 61 43 37 20 11 73 77 8 39 78 44 34 89 81 7 77 44 84 85 83 8 18 39 84 47 79 8 45 21 71 2 66 26 95 39 64 18 5 73 26 74 67 93 19 51 78 43 21 58 42 31 68 8 35 56 69 3 49 38 17 5 67 32 99 80 39 18 88 45 37 53 96 65 9 12 86 55 25 7 47 32 3 8 39 66 74 95 41 78 41 51 24 81 7 22 83 43 33 11 98 83 26 31 64 25 1 65 24 67 8 13 96 82 63 57 9 57 69 5 31 79 10 37 59 41 93 4 34 67 31 13 81 19 82 97 22 72 68 81 37 70 13 88 33 83 35 5 63 21 38 39 99 20 76 33 81 97 36 35 65 80 5 10 95 89 70 42 49 3 17 47 28 82 8 54 79 5 89 96 16 98 65 87 93 88 94 69 42 91 7 65 73 31 55 76 39 80 52 7 47 1 44 56 4 69 77 96 71 38 71 91 7 25 56 54 50 42 12 29 30 69 68 18 59 2 28 24 48 90 85 24 98 70 33 67 18 48 81 93 19 19 41 11 46 15 11 31 56 85 54 98 9 30 30 66 30 83 25 14 65 44 20 61 66 64 29 64 83 14 32 83 58 82 58 74 43 30 25 24 78 35 2 88 61 12 11 91 17 75 33 39 17 48 30 16 11 40 55 93 51 89 71 4 24 91 93 57 84 34 49 14 8 6 98 20 5 10 58 46 91 97 35 13 69 2 61 99 42 14 97 17 33 21 5 78 64 14 14 43 38 54 29 41 2 11 14 60 63 18 23 95 98 26 39 26 80 93 80 11 55 44 84 94 60 90 77 61 75 30 31 11 46 64 66 80 5 94 58 81 48 93 14 25 94 83 87 83 2 69 89 58 87 65 32 88 78 33 67 94 86 63 48 82 1 84 74 44 14 36 81 23 51 10 22 4 61 63 7 48 68 94 48 73 66 74 28 37 45 67 4 59 39 2 78 69 6 48 13 90 35 55 95 76 79 51 22 35 65 74 86 10 95 99 33 34 10 29 50 43 12 53 54 42 58 59 6 88 44 98 70 54 10 10 88 49 15 47 38 74 67 9 31 40 81 64 68 31 50 83 6 2 56 39 91 79 26 21 88 41 42 94 73 67 89 11 37 76 35 57 50 39 86 28 1 35 50 65 23 23 43 1 32 6 40 61 47 89 80 17 40 87 96 65 60 98 50 10 27 69 4 72 51 69 8 93 67 76 84 19 73 42 9 61 1 61 62 81 86 6 75 9 49 86 88 90 50 96 69 73 26 81 67 45 22 20 65 79 57 21 47 80 22 37 71 28 60 19 1 88 49 31 77 75 8 56 45 25 48 53 45 47 37 44 91 97 47 27 9 55 35 20 4 50 47 39 94 46 87 24 38 69 10 18 55 84 75 45 5 44 60 19 47 1 33 99 34 46 76 81 90 72 63 96 73 78 90 31 6 94 31 47 20 88 70 61 49 60 99 27 42 35 35 89 91 84 66 44 45 5 48 52 1 25 76 91 73 94 92 96 15 42 76 23 53 23 15 22 39 42 24 45 93 40 72 53 28 40 19 59 46 81 94 56 54 96 17 75 99 40 12 47 20 15 32 21 42 26 2 49 41 10 85 77 60 38 36 76 67 69 56 69 33 74 35 10 13 8 74 1 20 80 24 56 46 57 71 50 71 55 23 55 40 94 17 20 50 5 82 60 16 7 19 42 63 88 21 64 42 55 72 38 5 41 64 26 94 36 39 13 93 64 93 63 37 47 13 28 83 32 49 11 15 35 9 48 47 29 84 30 52 59 76 22 92 15 51 78 59 1 47 7 53 72 13 22 49 23 30 43 82 33 71 96 81 6 33 52 44 98 55 70 21 58 91 70 3 38 50 39 39 54 16 59 42 64 1 60 29 23 84 40 2 24 64 16 13 95 81 1 11 77 73 9 18 60 64 69 64 14 4 91 52 54 71 72 25 16 5 59 66 47 48 67 47 82 57 87 48 35 71 55 41 88 42 15 52 70 42 95 42 72 56 12 5 58 66 50 58 38 80 57 6 44 68 35 78 4 10 4 72 57 24 53 18 76 2 22 68 5 59 31 82 31 93 41 1 38 17 74 41 85 58 43 52 8 54 26 27 16 59 23 46 50 38 13 5 83 9 14 50 32 72 98 37 83 11 77 85 69 39 83 58 4 34 29 38 48 82 50 28 13 70 70 78 31 60 19 46 54 15 97 85 25 90 18 42 60 69 89 73 1 36 18 24 13 67 7 54 14 33 56 55 95 52 83 59 6 44 71 63 86 11 13 2 81 24 21 20 6 73 52 46 53 52 51 75 64 93 16 3 75 57 63 91 ...
??????


### test by python gened case, passed ###
./sum-of-cont-subarray-gen-case.py 1000000 12267775 > socs-gen-t2.txt
../../objs/sum-of-cont-subarray-dp2 < socs-gen-t2.txt  # slow, several minutes
1273228903
../../objs/sum-of-cont-subarray-tune2 < socs-gen-t2.txt  # < 1s
1273228903

#endif